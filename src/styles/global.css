@import "tailwindcss";
@plugin '@tailwindcss/typography';
@plugin "daisyui" {
  themes: corporate --default, business --prefersdark;
}

/* Pagefind UI Overrides */
  .pagefind-ui {
    --pagefind-ui-scale: 0.75;
    --pagefind-ui-background: var(--color-base-100);
    --pagefind-ui-primary: var(--color-primary);
    --pagefind-ui-text: var(--color-base-content);
    --pagefind-ui-border: var(--color-primary-content);
    --pagefind-ui-border-width: var(--border);
    --pagefind-ui-border-radius: var(--radius-box);
    --pagefind-ui-font: inherit;

    width: 50%;
  }

  .pagefind-ui.yellow {
    --pagefind-ui-background: var(--color-warning);
  }

  .pagefind-ui.red {
    --pagefind-ui-background: var(--color-error);
    width: 100%;
  }

  .pagefind-ui .pagefind-ui__drawer:not(.pagefind-ui__hidden) {
    position: absolute;
    left: 0;
    right: 0;
    margin-top: 0.5rem;           /* leave a small gap so the input's bottom border remains visible */
    z-index: 9999;
    padding: 0 2em 1em;
    overflow-y: auto;
    box-shadow:
      0 10px 10px -5px rgba(0, 0, 0, 0.2),
      0 2px 2px 0 rgba(0, 0, 0, 0.1);
    border-bottom-right-radius: var(--pagefind-ui-border-radius);
    border-bottom-left-radius: var(--pagefind-ui-border-radius);
    background-color: var(--pagefind-ui-background);
  }

  .pagefind-ui .pagefind-ui__result-link {
    color: var(--pagefind-ui-primary);
  }

  .pagefind-ui .pagefind-ui__result-excerpt {
    color: var(--pagefind-ui-text);
  }

  /* Match Pagefind search box with current DaisyUI input style (input-bordered removed since v5) */
  .pagefind-ui .pagefind-ui__search-input {
    width: 100%;
    padding: 0.75rem 1rem;
    border-radius: var(--rounded-btn, 0.5rem);
    border: 1px solid var(--color-base-300);
    background-color: var(--color-base-100);
    color: var(--color-base-content);
    font-size: 0.875rem;
    line-height: 1.25rem;
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  }
  
  /* Enhanced border in light mode for better contrast */
  [data-theme="corporate"] .pagefind-ui .pagefind-ui__search-input {
    border: 2px solid rgba(0, 0, 0, 0.2);
  }
  
  .pagefind-ui .pagefind-ui__search-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px var(--color-primary-content);
  }
  
  /* Enhanced focus state for light mode */
  [data-theme="corporate"] .pagefind-ui .pagefind-ui__search-input:focus {
    border: 2px solid var(--color-primary);
    box-shadow: 0 0 0 2px var(--color-primary-content);
  }

  /* Ensure Pagefind UI takes full width when displayed inside the mobile search modal */
.modal .pagefind-ui {
  width: 100% !important;          /* Override the default 50â€¯% */
}

.modal .pagefind-ui__drawer:not(.pagefind-ui__hidden) {
  width: 100% !important;          /* Search results span the modal width */
  left: 0 !important;
  right: 0 !important;
  margin-left: 0 !important;
}

/* Smooth responsive layout transitions - targeted approach only */
.grid {
  transition: grid-template-columns 0.8s cubic-bezier(0.23, 1, 0.32, 1),
              gap 0.8s cubic-bezier(0.23, 1, 0.32, 1) !important;
  will-change: grid-template-columns, gap;
}

/* Card hover effects */
.card {
  transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  will-change: transform, box-shadow;
}

.card:hover {
  transform: translateY(-4px) scale(1.02);
}

/* Prevent only color transitions globally, but allow layout/size transitions during resize */
body, body * {
  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke !important;
  transition: none !important;
}

/* Restore smooth border color transition for navbar */
#main-header {
  transition: border-bottom-color 0.3s cubic-bezier(0.4, 0, 0.2, 1), transform 300ms, opacity 300ms, box-shadow 300ms !important;
}

/* Enhanced smooth transitions ONLY during window resize */
@media (prefers-reduced-motion: no-preference) {
  /* Apply smooth transitions only when window is being resized */
  body.window-resizing *:not(.drawer):not(.drawer *):not(.navbar):not(.navbar *):not(.modal):not(.modal *):not(.btn):not(.btn *):not(header):not(header *):not(nav):not(nav *):not(button):not(button *):not([role="button"]):not([role="button"] *) {
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
    will-change: transform, width, height, padding, margin, flex, grid-template-columns !important;
  }
  
  /* Specific targeting for main content areas during resize - longer duration for smoother feel */
  body.window-resizing main,
  body.window-resizing main *:not(.btn):not(.btn *):not(button):not(button *),
  body.window-resizing article,
  body.window-resizing article *:not(.btn):not(.btn *):not(button):not(button *),
  body.window-resizing section,
  body.window-resizing section *:not(.btn):not(.btn *):not(button):not(button *),
  body.window-resizing .container,
  body.window-resizing .container *:not(.btn):not(.btn *):not(button):not(button *),
  body.window-resizing .card,
  body.window-resizing .card *:not(.btn):not(.btn *):not(button):not(button *) {
    transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
    will-change: transform, width, height, padding, margin, flex, grid-template-columns !important;
  }
  
  /* Ensure navigation elements are NEVER affected during resize - comprehensive exclusions */
  body.window-resizing .drawer,
  body.window-resizing .drawer *,
  body.window-resizing .navbar,
  body.window-resizing .navbar *,
  body.window-resizing header,
  body.window-resizing header *,
  body.window-resizing #main-header,
  body.window-resizing #main-header *,
  body.window-resizing .modal,
  body.window-resizing .modal *,
  body.window-resizing dialog,
  body.window-resizing dialog *,
  body.window-resizing .pagefind-ui,
  body.window-resizing .pagefind-ui *,
  body.window-resizing .drawer-toggle,
  body.window-resizing .drawer-content,
  body.window-resizing .drawer-side,
  body.window-resizing .drawer-overlay,
  body.window-resizing label[for="nav-drawer"],
  body.window-resizing label[for="nav-drawer"] *,
  body.window-resizing .btn,
  body.window-resizing .btn *,
  body.window-resizing button,
  body.window-resizing button *,
  body.window-resizing [role="button"],
  body.window-resizing [role="button"] *,
  body.window-resizing .btn-ghost,
  body.window-resizing .btn-ghost *,
  body.window-resizing .btn-square,
  body.window-resizing .btn-square *,
  body.window-resizing svg,
  body.window-resizing svg * {
    transition: none !important;
    will-change: auto !important;
  }
}

/* Gallery Layout Styles */
.gallery-wrapped {
  clear: none;
}

.version-content-wrapper {
  overflow: hidden; /* Contains floating elements */
}

.clear-both {
  clear: both;
}

/* Ensure proper spacing for wrapped content */
.gallery-wrapped + .prose {
  margin-top: 0;
}

.prose::after {
  content: "";
  display: table;
  clear: both;
}