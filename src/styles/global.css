@import "tailwindcss";
@plugin '@tailwindcss/typography';
@plugin "daisyui" {
  themes: corporate --default, business --prefersdark;
}

/* Pagefind UI Overrides */
  .pagefind-ui {
    --pagefind-ui-scale: 0.75;
    --pagefind-ui-background: var(--color-base-100);
    --pagefind-ui-primary: var(--color-primary);
    --pagefind-ui-text: var(--color-base-content);
    --pagefind-ui-border: var(--color-primary-content);
    --pagefind-ui-border-width: var(--border);
    --pagefind-ui-border-radius: var(--radius-box);
    --pagefind-ui-font: inherit;

    width: 50%;
  }

  .pagefind-ui.yellow {
    --pagefind-ui-background: var(--color-warning);
  }

  .pagefind-ui.red {
    --pagefind-ui-background: var(--color-error);
    width: 100%;
  }

  .pagefind-ui .pagefind-ui__drawer:not(.pagefind-ui__hidden) {
    position: absolute;
    left: 0;
    right: 0;
    margin-top: 0.5rem;           /* leave a small gap so the input's bottom border remains visible */
    z-index: 9999;
    padding: 0 2em 1em;
    overflow-y: auto;
    box-shadow:
      0 10px 10px -5px rgba(0, 0, 0, 0.2),
      0 2px 2px 0 rgba(0, 0, 0, 0.1);
    border-bottom-right-radius: var(--pagefind-ui-border-radius);
    border-bottom-left-radius: var(--pagefind-ui-border-radius);
    background-color: var(--pagefind-ui-background);
  }

  .pagefind-ui .pagefind-ui__result-link {
    color: var(--pagefind-ui-primary);
  }

  .pagefind-ui .pagefind-ui__result-excerpt {
    color: var(--pagefind-ui-text);
  }

  /* Match Pagefind search box with current DaisyUI input style (input-bordered removed since v5) */
  .pagefind-ui .pagefind-ui__search-input {
    width: 100%;
    padding: 0.75rem 1rem;
    border-radius: var(--rounded-btn, 0.5rem);
    border: 1px solid var(--color-base-300);
    background-color: var(--color-base-100);
    color: var(--color-base-content);
    font-size: 0.875rem;
    line-height: 1.25rem;
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  }
  
  /* Enhanced border in light mode for better contrast */
  [data-theme="corporate"] .pagefind-ui .pagefind-ui__search-input {
    border: 2px solid rgba(0, 0, 0, 0.2);
  }
  
  .pagefind-ui .pagefind-ui__search-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px var(--color-primary-content);
  }
  
  /* Enhanced focus state for light mode */
  [data-theme="corporate"] .pagefind-ui .pagefind-ui__search-input:focus {
    border: 2px solid var(--color-primary);
    box-shadow: 0 0 0 2px var(--color-primary-content);
  }

  /* Ensure Pagefind UI takes full width when displayed inside the mobile search modal */
.modal .pagefind-ui {
  width: 100% !important;          /* Override the default 50â€¯% */
}

.modal .pagefind-ui__drawer:not(.pagefind-ui__hidden) {
  width: 100% !important;          /* Search results span the modal width */
  left: 0 !important;
  right: 0 !important;
  margin-left: 0 !important;
}

/* Smooth responsive layout transitions - targeted approach only */
.grid {
  transition: grid-template-columns 0.8s cubic-bezier(0.23, 1, 0.32, 1),
              gap 0.8s cubic-bezier(0.23, 1, 0.32, 1);
  will-change: grid-template-columns, gap;
}

/* Card hover effects */
.card {
  transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              width 0.8s cubic-bezier(0.23, 1, 0.32, 1),
              height 0.8s cubic-bezier(0.23, 1, 0.32, 1),
              padding 0.8s cubic-bezier(0.23, 1, 0.32, 1),
              margin 0.8s cubic-bezier(0.23, 1, 0.32, 1);
  will-change: transform, box-shadow, width, height, padding, margin;
}

.card:hover {
  transform: translateY(-4px) scale(1.02);
}

/* Responsive typography - but only for content areas, not navigation */
main h1, main h2, main h3, main h4, main h5, main h6, 
main p, main span, main a,
article h1, article h2, article h3, article h4, article h5, article h6,
article p, article span, article a {
  transition: font-size 0.8s cubic-bezier(0.23, 1, 0.32, 1),
              line-height 0.8s cubic-bezier(0.23, 1, 0.32, 1);
  will-change: font-size, line-height;
}

/* Responsive container transitions - but only for main content areas */
main .container, main section, main article, main div,
.container section, .container article, .container div {
  transition: width 0.8s cubic-bezier(0.23, 1, 0.32, 1),
              max-width 0.8s cubic-bezier(0.23, 1, 0.32, 1),
              padding 0.8s cubic-bezier(0.23, 1, 0.32, 1),
              margin 0.8s cubic-bezier(0.23, 1, 0.32, 1);
  will-change: width, max-width, padding, margin;
}

/* Base responsive transitions for common layout elements */
main [class*="grid"], main [class*="flex"],
main [class*="w-"], main [class*="max-w-"], main [class*="min-w-"],
main [class*="h-"], main [class*="max-h-"], main [class*="min-h-"],
main [class*="p-"], main [class*="px-"], main [class*="py-"], main [class*="pt-"], main [class*="pb-"], main [class*="pl-"], main [class*="pr-"],
main [class*="m-"], main [class*="mx-"], main [class*="my-"], main [class*="mt-"], main [class*="mb-"], main [class*="ml-"], main [class*="mr-"],
main [class*="gap-"], main [class*="space-"],
main [class*="grid-cols-"], main [class*="col-span-"],
main [class*="justify-"], main [class*="items-"],
main [class*="text-"],
section [class*="grid"], section [class*="flex"],
section [class*="w-"], section [class*="max-w-"], section [class*="min-w-"],
section [class*="h-"], section [class*="max-h-"], section [class*="min-h-"],
section [class*="p-"], section [class*="px-"], section [class*="py-"], section [class*="pt-"], section [class*="pb-"], section [class*="pl-"], section [class*="pr-"],
section [class*="m-"], section [class*="mx-"], section [class*="my-"], section [class*="mt-"], section [class*="mb-"], section [class*="ml-"], section [class*="mr-"],
section [class*="gap-"], section [class*="space-"],
section [class*="grid-cols-"], section [class*="col-span-"],
section [class*="justify-"], section [class*="items-"],
section [class*="text-"] {
  transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
  will-change: width, height, padding, margin, font-size, line-height, flex-direction, justify-content, align-items;
}

/* Enhanced smooth transitions during window resize */
@media (prefers-reduced-motion: no-preference) {
  /* Production-ready smooth transitions - optimized for buttery smoothness */
  body.window-resizing *:not(.drawer):not(.navbar):not(.modal):not(.btn):not(header):not(nav):not(button) {
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  }
  
  /* Specific targeting for main content areas with slightly longer duration */
  body.window-resizing main,
  body.window-resizing main *,
  body.window-resizing article,
  body.window-resizing article *,
  body.window-resizing section,
  body.window-resizing section *,
  body.window-resizing .container,
  body.window-resizing .container *,
  body.window-resizing .card,
  body.window-resizing .card * {
    transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  }
  
  /* Ensure navigation elements are NEVER affected during resize - comprehensive exclusions */
  body.window-resizing .drawer,
  body.window-resizing .drawer *,
  body.window-resizing .navbar,
  body.window-resizing .navbar *,
  body.window-resizing header,
  body.window-resizing header *,
  body.window-resizing #main-header,
  body.window-resizing #main-header *,
  body.window-resizing .modal,
  body.window-resizing .modal *,
  body.window-resizing dialog,
  body.window-resizing dialog *,
  body.window-resizing .pagefind-ui,
  body.window-resizing .pagefind-ui *,
  body.window-resizing .drawer-toggle,
  body.window-resizing .drawer-content,
  body.window-resizing .drawer-side,
  body.window-resizing .drawer-overlay,
  body.window-resizing label[for="nav-drawer"],
  body.window-resizing label[for="nav-drawer"] *,
  body.window-resizing .btn,
  body.window-resizing .btn *,
  body.window-resizing button,
  body.window-resizing button *,
  body.window-resizing [role="button"],
  body.window-resizing [role="button"] *,
  body.window-resizing .btn-ghost,
  body.window-resizing .btn-ghost *,
  body.window-resizing .btn-square,
  body.window-resizing .btn-square *,
  body.window-resizing svg,
  body.window-resizing svg * {
    transition: none !important;
    will-change: auto !important;
  }
}